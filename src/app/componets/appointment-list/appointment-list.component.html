<mat-spinner *ngIf="loading"></mat-spinner>
<mat-toolbar *ngIf="successMsg" color="accent"> {{successMsg}}</mat-toolbar>
<mat-toolbar *ngIf="errorMsg" color="warn"> {{errorMsg}}</mat-toolbar>

<div *ngIf="!loading">
    <table mat-table [dataSource]="appointments" class="mat-elevation-z8 ">
        <ng-container matColumnDef="DKK_per_kWh">
            <th mat-header-cell *matHeaderCellDef> DKK_per_kWh </th>
            <td mat-cell *matCellDef="let appointment"> {{ appointment.DKK_per_kWh}} </td>
        </ng-container>
        <ng-container matColumnDef="EUR_per_kWh">
            <th mat-header-cell *matHeaderCellDef> EUR_per_kWh </th>
            <td mat-cell *matCellDef="let appointment"> {{ appointment.EUR_per_kWh}} </td>
        </ng-container>
        <ng-container matColumnDef="time_start">
            <th mat-header-cell *matHeaderCellDef> Time Start </th>
            <td mat-cell *matCellDef="let appointment"> {{ appointment.time_start}} </td>
        </ng-container>
        <ng-container matColumnDef="time_end">
            <th mat-header-cell *matHeaderCellDef> Time end </th>
            <td mat-cell *matCellDef="let appointment"> {{ appointment.time_end}} </td>
        </ng-container>
        <ng-container matColumnDef="cancel">
            <th mat-header-cell *matHeaderCellDef> Cancel </th>
            <td mat-cell *matCellDef="let appointment"><button (click)="cancelAppointment(appointment._id)" mat-raised-button color="warn">Cancel</button></td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columns"></tr>
          <tr mat-row *matRowDef="let appointments; columns: columns"></tr>
    </table>
</div>
